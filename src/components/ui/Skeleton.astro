---
interface Props {
  type?: 'text' | 'title' | 'avatar' | 'image' | 'card' | 'button';
  width?: string;
  height?: string;
  className?: string;
}

const { type = 'text', width, height, className = '' } = Astro.props;

const typeStyles = {
  text: 'h-4 w-full rounded',
  title: 'h-8 w-3/4 rounded',
  avatar: 'h-12 w-12 rounded-full',
  image: 'h-48 w-full rounded-xl',
  card: 'h-64 w-full rounded-2xl',
  button: 'h-12 w-32 rounded-xl'
};

const baseStyle = typeStyles[type];
const customStyle = `${width ? `width: ${width};` : ''} ${height ? `height: ${height};` : ''}`;
---

<div 
  class={`skeleton ${baseStyle} ${className}`}
  style={customStyle}
  aria-hidden="true"
></div>

<style>
  .skeleton {
    background: linear-gradient(
      90deg,
      #e5e7eb 25%,
      #f3f4f6 50%,
      #e5e7eb 75%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }
  
  @keyframes shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }
</style>
