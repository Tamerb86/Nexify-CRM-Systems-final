---
import { urlStructure, type Language } from '../../lib/i18n';
import { ArrowRight, ArrowLeft, Rocket, Shield, Clock, CheckCircle } from 'lucide-astro';

interface Props {
  lang: Language;
  badge: string;
  title: string;
  titleHighlight?: string;
  subtitle: string;
  ctaPrimary: string;
  ctaSecondary: string;
  ctaPrimaryLink?: string;
  ctaSecondaryLink?: string;
  image: string;
  imageAlt: string;
  trustBadges?: { icon: string; text: string }[];
}

const { 
  lang, 
  badge, 
  title, 
  titleHighlight, 
  subtitle, 
  ctaPrimary, 
  ctaSecondary,
  ctaPrimaryLink,
  ctaSecondaryLink,
  image, 
  imageAlt,
  trustBadges = []
} = Astro.props;

const dir = lang === 'ar' ? 'rtl' : 'ltr';
const isRTL = dir === 'rtl';
const Arrow = isRTL ? ArrowLeft : ArrowRight;

const primaryLink = ctaPrimaryLink || urlStructure[lang].contact;
const secondaryLink = ctaSecondaryLink || urlStructure[lang].projects;

const iconMap: Record<string, any> = {
  rocket: Rocket,
  shield: Shield,
  clock: Clock
};
---

<section class="relative min-h-[90vh] flex items-center bg-gradient-to-br from-white via-gray-50 to-teal-50/30 overflow-hidden">
  <!-- Background Decorations -->
  <div class="absolute inset-0 opacity-5">
    <div class="absolute top-20 left-20 w-72 h-72 bg-primary rounded-full blur-3xl"></div>
    <div class="absolute bottom-20 right-20 w-96 h-96 bg-teal-500 rounded-full blur-3xl"></div>
  </div>
  
  <div class="container mx-auto px-4 py-20 relative z-10">
    <div class={`grid lg:grid-cols-2 gap-12 items-center ${isRTL ? 'lg:flex-row-reverse' : ''}`}>
      <!-- Text Content -->
      <div class={`animate-fade-in-up ${isRTL ? 'text-right lg:order-2' : 'text-left lg:order-1'}`}>
        <span class="inline-block px-4 py-2 bg-primary/10 text-primary rounded-full text-sm font-medium mb-6 animate-pulse-glow">
          {badge}
        </span>
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight">
          {title}
          {titleHighlight && (
            <span class={`text-transparent bg-clip-text bg-gradient-to-${isRTL ? 'l' : 'r'} from-primary to-teal-500`}>
              {' '}{titleHighlight}
            </span>
          )}
        </h1>
        <p class="text-xl text-gray-600 mb-8 leading-relaxed">
          {subtitle}
        </p>
        <div class={`flex flex-wrap gap-4 mb-10 ${isRTL ? 'justify-end' : 'justify-start'}`}>
          <a href={primaryLink} class="inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-primary to-teal-500 text-white font-medium rounded-xl hover:opacity-90 transition-opacity">
            {ctaPrimary}
            <Arrow class={`w-5 h-5 ${isRTL ? 'mr-2' : 'ml-2'}`} />
          </a>
          <a href={secondaryLink} class="inline-flex items-center gap-2 px-6 py-3 bg-white text-primary font-medium rounded-xl border-2 border-primary hover:bg-primary hover:text-white transition-colors">
            {ctaSecondary}
          </a>
        </div>
        
        <!-- Trust Badges -->
        {trustBadges.length > 0 && (
          <div class={`flex flex-wrap gap-6 ${isRTL ? 'justify-end' : 'justify-start'}`}>
            {trustBadges.map((badge) => {
              const Icon = iconMap[badge.icon] || Rocket;
              return (
                <div class="flex items-center gap-2 text-gray-600">
                  <Icon class="w-5 h-5 text-teal-500" />
                  <span class="text-sm font-medium">{badge.text}</span>
                </div>
              );
            })}
          </div>
        )}
      </div>
      
      <!-- Hero Image -->
      <div class={`relative animate-fade-in-up ${isRTL ? 'lg:order-1' : 'lg:order-2'}`} style="animation-delay: 200ms">
        <div class="relative transform hover:scale-105 transition-transform duration-500">
          <img 
            src={image} 
            alt={imageAlt} 
            class="w-full rounded-2xl shadow-2xl"
            loading="eager"
          />
          <div class={`absolute -bottom-6 ${isRTL ? '-left-6' : '-right-6'} bg-white rounded-xl shadow-lg p-4 animate-float`}>
            <div class="flex items-center gap-3">
              <div class="w-12 h-12 bg-teal-500 rounded-full flex items-center justify-center">
                <CheckCircle class="w-6 h-6 text-white" />
              </div>
              <div class={isRTL ? 'text-right' : 'text-left'}>
                <p class="text-2xl font-bold text-gray-900">100+</p>
                <p class="text-sm text-gray-500">{isRTL ? 'مشروع مكتمل' : lang === 'no' ? 'Fullførte prosjekter' : 'Completed Projects'}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


