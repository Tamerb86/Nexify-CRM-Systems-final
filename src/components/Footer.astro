---
import { t, type Language } from '../lib/i18n';
import { MapPin, Phone, Mail, Linkedin, Facebook } from 'lucide-astro';

// TikTok SVG icon (not available in lucide)
const TikTokIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/></svg>`;

interface Props {
  lang?: Language;
}

const { lang = 'no' } = Astro.props;

const currentYear = new Date().getFullYear();

const quickLinks = [
  { name: t(lang, 'nav.home'), href: `/${lang}/` },
  { name: t(lang, 'nav.services'), href: `/${lang}/services` },
  { name: t(lang, 'nav.projects'), href: `/${lang}/projects` },
  { name: t(lang, 'nav.pricing'), href: `/${lang}/pricing` },
  { name: t(lang, 'nav.about'), href: `/${lang}/about` },
];

const serviceLinks = [
  { name: t(lang, 'services.web.title'), href: `/${lang}/services` },
  { name: t(lang, 'services.ecommerce.title'), href: `/${lang}/services` },
  { name: t(lang, 'services.saas.title'), href: `/${lang}/services` },
  { name: t(lang, 'services.hosting.title'), href: `/${lang}/services` },
];
---

<footer class="bg-primary text-white">
  <div class="container py-16">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10">
      <!-- Company Info -->
      <div class="lg:col-span-1">
        <a href={`/${lang}/`} class="inline-block mb-6">
          <img 
            src="/images/nexify-logo-white.png" 
            alt="Nexify CRM Systems" 
            width="160"
            height="40"
            class="h-10 w-auto object-contain brightness-0 invert"
          />
        </a>
        <p class="text-blue-100 text-sm leading-relaxed mb-6 max-w-xs">
          {t(lang, 'footer.description')}
        </p>
        <div class="flex gap-4">
          <a 
            href="https://www.linkedin.com/company/106097428" 
            target="_blank" 
            rel="noopener noreferrer" 
            class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-secondary transition-colors"
            aria-label="LinkedIn"
          >
            <Linkedin class="w-5 h-5" />
          </a>
          <a 
            href="https://www.facebook.com/profile.php?id=61567575882753" 
            target="_blank" 
            rel="noopener noreferrer" 
            class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-secondary transition-colors"
            aria-label="Facebook"
          >
            <Facebook class="w-5 h-5" />
          </a>
          <a 
            href="https://www.tiktok.com/@nexifyhub" 
            target="_blank" 
            rel="noopener noreferrer" 
            class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-secondary transition-colors"
            aria-label="TikTok"
          >
            <Fragment set:html={TikTokIcon} />
          </a>
        </div>
      </div>

      <!-- Quick Links -->
      <div>
        <h3 class="font-semibold text-lg mb-6">{t(lang, 'footer.quickLinks')}</h3>
        <ul class="space-y-3">
          {quickLinks.map((link) => (
            <li>
              <a 
                href={link.href}
                class="text-blue-100 text-sm hover:text-secondary transition-colors"
              >
                {link.name}
              </a>
            </li>
          ))}
        </ul>
      </div>

      <!-- Services -->
      <div>
        <h3 class="font-semibold text-lg mb-6">{t(lang, 'footer.services')}</h3>
        <ul class="space-y-3">
          {serviceLinks.map((link) => (
            <li>
              <a 
                href={link.href}
                class="text-blue-100 text-sm hover:text-secondary transition-colors"
              >
                {link.name}
              </a>
            </li>
          ))}
        </ul>
      </div>

      <!-- Contact -->
      <div>
        <h3 class="font-semibold text-lg mb-6">{t(lang, 'footer.contact')}</h3>
        <ul class="space-y-4">
          <li class="flex items-start gap-3">
            <MapPin class="w-5 h-5 text-secondary shrink-0 mt-0.5" />
            <span class="text-blue-100 text-sm">{t(lang, 'contact.info.address')}</span>
          </li>
          <li class="flex items-center gap-3">
            <Phone class="w-5 h-5 text-secondary shrink-0" />
            <a href="tel:+4792146050" class="text-blue-100 text-sm hover:text-secondary transition-colors">
              {t(lang, 'contact.info.phone')}
            </a>
          </li>
          <li class="flex items-center gap-3">
            <Mail class="w-5 h-5 text-secondary shrink-0" />
            <a href="mailto:info@nexifyhub.no" class="text-blue-100 text-sm hover:text-secondary transition-colors">
              {t(lang, 'contact.info.email')}
            </a>
          </li>
          <li class="flex items-center gap-3 pt-2">
            <span class="text-secondary text-sm font-medium">Org.nr:</span>
            <span class="text-blue-100 text-sm">936 300 278</span>
          </li>
        </ul>
      </div>
    </div>

    <!-- Bottom Bar -->
    <div class="border-t border-white/10 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
      <p class="text-blue-200 text-sm">
        Â© {currentYear} Nexify CRM Systems AS. {t(lang, 'footer.rights')}
      </p>
      <div class="flex gap-6">
        <a href={`/${lang}/privacy`} class="text-blue-200 text-sm hover:text-white transition-colors">
          {t(lang, 'footer.privacy')}
        </a>
        <a href={`/${lang}/terms`} class="text-blue-200 text-sm hover:text-white transition-colors">
          {t(lang, 'footer.terms')}
        </a>
      </div>
    </div>
  </div>
</footer>
